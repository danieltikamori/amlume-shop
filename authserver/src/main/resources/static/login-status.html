<!--
  ~ Copyright (c) 2025 Daniel Itiro Tikamori. All rights reserved.
  ~
  ~ This software is proprietary, not intended for public distribution, open source, or commercial use. All rights are reserved. No part of this software may be reproduced, distributed, or transmitted in any form or by any means, electronic or mechanical, including photocopying, recording, or by any information storage or retrieval system, without the prior written permission of the copyright holder.
  ~
  ~ Permission to use, copy, modify, and distribute this software is strictly prohibited without prior written authorization from the copyright holder.
  ~
  ~ Please contact the copyright holder at echo ZnVpd3pjaHBzQG1vem1haWwuY29t | base64 -d && echo for any inquiries or requests for authorization to use the software.
  -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login Status</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 20px;
            text-align: center;
        }

        .container {
            margin-top: 50px;
        }

        .message {
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 4px;
            display: inline-block;
            min-width: 300px;
            margin-bottom: 20px;
        }

        .success {
            background-color: #e6ffed;
            border-color: #b7ebc9;
            color: #257942;
        }

        .info {
            background-color: #e7f3fe;
            border-color: #c3dafe;
            color: #31708f;
        }

        .error {
            background-color: #fbeaea;
            border-color: #f5c6cb;
            color: #721c24;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Authentication Server Status</h1>

    <div id="status-message" class="message info">
        Processing login result...
    </div>

    <p style="margin-top: 20px;"><a href="/login">Return to Login Page</a></p>
    <p><a href="/">Go to Authserver Home (if configured)</a></p>
</div>

<script>
    const params = new URLSearchParams(window.location.search);
    const messageDiv = document.getElementById('status-message');

    if (params.has('oauth2_login_success')) {
        messageDiv.textContent = 'OAuth2 Login successful!';
        messageDiv.classList.remove('info', 'error');
        messageDiv.classList.add('success');
    } else if (params.has('form_login_success')) {
        messageDiv.textContent = 'Form login successful!';
        messageDiv.classList.remove('info', 'error');
        messageDiv.classList.add('success');
    } else if (params.has('error')) {
        // For form login failure, Spring Security redirects to /status?error=true
        // You might want to add more specific error details if available in the URL
        messageDiv.textContent = 'Login failed. Please try again.';
        messageDiv.classList.remove('success', 'info');
        messageDiv.classList.add('error');
    } else {
        // Default message if no specific parameters are found on the /status page
        messageDiv.textContent = 'Login process completed.';
    }
</script>

</body>
</html>
