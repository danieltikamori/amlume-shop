# ./docker/valkey/config/valkey.conf

# Bind to all interfaces inside the container
bind 0.0.0.0

# Set the password (using the literal placeholder)
requirepass your-valkey-password

# --- SSL/TLS Configuration ---
# Disable non-TLS port
port 0

# Enable TLS and specify the port
tls-port 6379

# Specify paths INSIDE the container where certs will be mounted
tls-cert-file /etc/valkey/ssl/server.crt
tls-key-file /etc/valkey/ssl/server.key

# Optional: If your client (Spring Boot app) doesn't present a certificate
tls-auth-clients yes

# Optional: Log level
loglevel notice
logfile "" # Log to stdout/stderr for Docker logs

# Disable persistent storage if not needed for dev cache
appendonly no